<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Sign Up</title>
<link href="../css/bootstrap.css" rel="stylesheet">
<link href="../css/bootstrap-theme.css" rel="stylesheet">
<link href="../css/custom2.css" rel="stylesheet">
<link href="../css/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../css/members.css" rel="stylesheet" type="text/css" media="all" />
<style>
@media ( max-width :500px) {
	label {
		font-size: 14px;
	}
}

.alert-danger {
	background-image: none;
}
</style>
</head>
<body>
	<div id="wrapper">
		<nav class="navbar navbar-default" role="navigation">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
				</button>
			</div>
			<div id="menu" class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav">
					<li><a href="../index.html" accesskey="1" title="">HOME</a></li>
					<li><a href="../about/about.html" accesskey="2" title="">About</a></li>
					<li><a href="../review/review.html" accesskey="3" title="">Review</a></li>
				</ul>
				<div class="navbar-right">
					<ul class="nav navbar-nav">
						<li><a href="../members/login.html">login</a></li>
						<li><a href="../members/join.html">Join</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
	<div id="wrapper">
		<div id="page" class="container">
			<div class="col-md-9">
				<h2>Sign Up</h2>
				<div id="myAlert" class="alert fade in alert-danger hide">
					<a href="#" class="close" data-dismiss="alert"> &times; </a> <strong>경고!</strong><span id="alt"></span>
				</div>
				<form action="#" id="frm" method="post" name="joinForm">
					<table>
						<tr>
							<td><label for="id">아이디</label></td>
							<td><input type="text" class="input" name="id" id="id" required></td>
							<td><span id="idDupMessage"></span></td>
						</tr>
						<tr>
							<td><label for="passwd">비밀번호</label></td>
							<td><input type="password" class="input" name="passwd" id="passwd" required></td>
						</tr>
						<tr>
							<td><label for="passwd2">비밀번호 확인</label></td>
							<td><input type="password" class="input" name="passwd2" id="passwd2" required></td>
							<td><span id="passwdMessage" style="font-size: 13px"></span></td>
						</tr>
						<tr>
							<td><label for="name">이름</label></td>
							<td><input type="text" class="input" name="name" id="name" required></td>
						</tr>
						<tr>
							<td><label for="age">나이</label></td>
							<td><input type="number" class="input" name="age" id="age" required></td>
						</tr>
						<tr>
							<td><label for="email">이메일</label></td>
							<td><input type="email" class="input" name="email" id="email" required></td>
						</tr>
						<tr>
							<td><label for="tel">전화번호</label></td>
							<td><input type="tel" class="input" name="tel" id="tel" required></td>
						</tr>
						<tr>
							<td colspan="2" class="buttons">
								<button type="button" id="btn" class="button-custom">회원가입</button>
							</td>
						</tr>
					</table>
				</form>
			</div>
		</div>
	</div>
	<div id="wrapper">
		<div id="portfolio-wrapper">
			<div id="portfolio" class="container">
				<div class="col-md-3">
					<div class="box">
						<h3>SCHMIDT</h3>
						<p>
							54 Medich St. KC. Sardinia.<br> (tel) 567-1234-7890
						</p>
					</div>
				</div>
				<div class="col-md-9">
					<div class="box">
						<h3>Contact Us</h3>
						<form action="#">
							<div class="col-md-3">
								<input type="text" placeholder="name" class="input">
								<br>
								<input type="email" placeholder="e-mail" class="input">
								<br>
							</div>
							<div class="col-md-9">
								<textarea placeholder="Message" class="textarea"></textarea>
								<button type="submit" class="button-custom pull-right">Send</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		<p>
			&copy; 2020. All rights reserved. Photos by <a href="https://pixabay.com/">Pixabay</a>.
		</p>
	</div>
	<!-- 모달 -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">회원가입 성공</h4>
				</div>
				<div class="modal-body">
					<p>가입되셨습니다.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="button-custom2" id="clsbutton" data-dismiss="modal">닫기</button>
					<button type="button" class="button-custom" onclick="location.href='login.html'">로그인 하기</button>
				</div>
			</div>
		</div>
	</div>
	<script src="../js/jquery-3.5.1.js"></script>
	<script src="../js/bootstrap.js"></script>
	<script type="text/javascript">
		// form 빈칸 확인
		$(document).ready(function() {
			$("#btn").click(function() {
				if (fieldCheck() == true) {
					true;
				} else {
					$('#myModal').modal()
				}
			});
		});

		function fieldCheck() {
			var element = $("#frm input");
			for (var i = 0; i < element.length; i++) {
				if ("" == $(element[i]).val() || null == $(element[i]).val()) {
					var ele_id = $(element[i]).attr("id");
					var label_txt = $("label[for='" + ele_id + "']").text();
					showAlert(ele_id, label_txt);
					return true;
				}
			}
		}

		function showAlert(ele_id, label_txt) {
			textVal = document.getElementById('alt').innerHTML;
			if (textVal == null || textVal == "") {
				$("#alt").append(" " + label_txt + "을(를) 입력해주세요.");
			} else {
				$("#alt").empty();
				$("#alt").append(" " + label_txt + "을(를) 입력해주세요.");
			}
			$("#myAlert").removeClass('hide');
			// 해당 칸에 focus.
			$("#" + ele_id).focus();
		}

		// 패스워드 일치
		var passwd = document.getElementById('passwd');
		var passwd2 = document.getElementById('passwd2');
		var spanMessage = document.getElementById('passwdMessage');

		passwd2.onkeyup = function() {
			if (passwd.value != passwd2.value) {
				spanMessage.innerHTML = '&nbsp;* 비밀번호가 일치하지 않습니다.';
			} else {
				spanMessage.innerHTML = '';
			}
		};

		// 가입 후 빈칸 리셋
		$(document).ready(function() {
			$('#clsbutton').on('click', function() {
				$('#frm').trigger("reset");
			})
		});

		// 경고창 닫기
		$(function() {
			$(".close").click(function() {
				$("#myAlert").addClass('hide');
				$("#alt").empty();
			});
		});
	</script>
</body>
</html>
